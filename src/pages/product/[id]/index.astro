---
import AppLayout from '../../../layouts/app-layout.astro';
import Content from '../../../components/content/index.astro';
import ImageCarousel from '../../../components/image-carousel/index.astro';
import styles from './styles.module.css';

export function getStaticPaths() {
  return [{ params: { id: '1' } }];
}

const { id } = Astro.params;

// Datos del producto (en el futuro esto vendría de una API o CMS)
const products: Record<
  string,
  {
    name: string;
    price: string;
    images: string[];
    description: string;
  }
> = {
  '1': {
    name: 'Peluche Cafe',
    price: '$60.000',
    images: ['/peluche-blanco.jpg', '/peluche.jpg', '/perro.jpg'],
    description:
      'Este adorable peluche café está hecho con amor y cuidado artesanal. Perfecto para regalar o para tener como compañero. Cada pieza es única y está diseñada para brindar calidez y ternura.',
  },
};

const product = products[id || '1'] || products['1'];
---

<AppLayout>
  <Content>
    <section class={styles.content}>
      <div class={styles.productContainer}>
        <div class={styles.imageSection}>
          <div class={styles.imageWrapper}>
            <ImageCarousel
              images={product.images}
              alt={product.name}
              variant="detail"
            />
          </div>
        </div>

        <div class={styles.infoSection}>
          <div class={styles.productHeader}>
            <h1 class={styles.productName}>{product.name}</h1>
            <div class={styles.priceContainer}>
              <span class={styles.priceValue}>{product.price}</span>
            </div>
          </div>

          <div class={styles.descriptionSection}>
            <h2 class={styles.sectionTitle}>Descripción</h2>
            <p class={styles.description}>{product.description}</p>
          </div>

          <div class={styles.actionsSection}>
            <a
              href="https://wa.me/573218524293"
              target="_blank"
              rel="noopener noreferrer"
              class={styles.ctaButton}>
              Contactar por WhatsApp
            </a>
          </div>
        </div>
      </div>
    </section>
  </Content>
</AppLayout>
